{
  "timestamp": "2026-02-13 09:36:42.708054",
  "recommendation": "GO (with caution)",
  "critical_issues": [],
  "warnings": [
    "Weak labels: 0 LOW_RISK examples, only 1 HIGH_RISK (11/12 are MEDIUM_RISK)",
    "Weak label confidence scores very low (mean 0.21, range 0.2-0.3)",
    "9/50 decisions missing domslut section",
    "GPU NVIDIA T500 has only 4.0 GB VRAM - may require gradient accumulation and small batch sizes",
    "Baseline model shows strong MEDIUM_RISK bias (95% recall vs 20-30% for other classes)"
  ],
  "file_status": {
    "cleaned_decisions": {
      "status": "OK",
      "path": "Data/processed/cleaned_court_texts.json",
      "size_mb": 13.36
    },
    "labeled_dataset": {
      "status": "OK",
      "path": "Data/processed/labeled_dataset.json",
      "size_mb": 1.35
    },
    "label_overrides": {
      "status": "OK",
      "path": "Data/processed/label_overrides.json",
      "size_mb": 0.0
    },
    "sundin_features": {
      "status": "OK",
      "path": "Data/processed/decision_features_sundin2026.json",
      "size_mb": 0.03
    },
    "sundin_importance": {
      "status": "OK",
      "path": "Data/processed/sundin_feature_importance.json",
      "size_mb": 0.0
    },
    "clustering_report": {
      "status": "OK",
      "path": "Data/processed/clustering_validation_report.json",
      "size_mb": 0.0
    },
    "dapt_corpus": {
      "status": "OK",
      "path": "Data/processed/dapt_corpus.json",
      "size_mb": 11.68
    },
    "weak_labels": {
      "status": "OK",
      "path": "Data/processed/weakly_labeled_applications.json",
      "size_mb": 0.63
    },
    "baseline_model": {
      "status": "OK",
      "path": "models/nap_legalbert_cv/fold_4/best_model/config.json",
      "size_mb": 0.0
    }
  },
  "data_counts": {
    "cleaned_decisions": 50,
    "labeled_total": 44,
    "train": 30,
    "val": 7,
    "test": 7,
    "label_distribution": {
      "HIGH_RISK": 8,
      "MEDIUM_RISK": 26,
      "LOW_RISK": 10
    },
    "train_distribution": {
      "MEDIUM_RISK": 18,
      "HIGH_RISK": 6,
      "LOW_RISK": 6
    },
    "val_distribution": {
      "MEDIUM_RISK": 4,
      "HIGH_RISK": 1,
      "LOW_RISK": 2
    },
    "test_distribution": {
      "MEDIUM_RISK": 4,
      "LOW_RISK": 2,
      "HIGH_RISK": 1
    },
    "weak_applications": 12,
    "weak_distribution": {
      "HIGH_RISK": 1,
      "MEDIUM_RISK": 11,
      "LOW_RISK": 0
    },
    "dapt_documents": 96,
    "dapt_words": 1419196,
    "dapt_sources": {
      "legislation": 38,
      "applications": 12,
      "court_decisions": 46
    },
    "excluded_overrides": 2,
    "text_stats": {
      "min_words": 574,
      "max_words": 89175,
      "mean_words": 16870,
      "median_words": 11981
    }
  },
  "data_quality": {
    "data_leakage": "NONE - no overlap between train/val/test",
    "invalid_labels": "NONE - all labels are HIGH_RISK/MEDIUM_RISK/LOW_RISK",
    "missing_key_text": "NONE - all decisions have key_text",
    "short_texts": "NONE - all >100 words (min 574)",
    "missing_domslut": "9 decisions missing domslut section",
    "cross_reference": "OK - all labeled IDs found in cleaned data, 6 unlabeled decisions"
  },
  "baseline_performance": {
    "model": "KB/bert-base-swedish-cased",
    "cv_folds": 5,
    "documents_trained": 40,
    "accuracy_mean": 0.65,
    "accuracy_std": 0.094,
    "f1_macro_mean": 0.417,
    "f1_macro_std": 0.215,
    "precision_macro_mean": 0.392,
    "recall_macro_mean": 0.483,
    "per_class": {
      "HIGH_RISK": {
        "precision": 0.4,
        "recall": 0.3,
        "f1": 0.33
      },
      "MEDIUM_RISK": {
        "precision": 0.64,
        "recall": 0.95,
        "f1": 0.76
      },
      "LOW_RISK": {
        "precision": 0.13,
        "recall": 0.2,
        "f1": 0.16
      }
    },
    "confusion_patterns": {
      "LOW_RISK_to_MEDIUM_RISK": 7,
      "HIGH_RISK_to_MEDIUM_RISK": 6,
      "MEDIUM_RISK_to_LOW_RISK": 1
    },
    "vs_baselines": {
      "model_accuracy": 0.65,
      "random_baseline": 0.333,
      "majority_baseline": 0.575
    },
    "training_time_seconds": 18095,
    "best_fold": {
      "fold": 4,
      "accuracy": 0.75,
      "f1_macro": 0.739
    },
    "worst_fold": {
      "fold": 3,
      "accuracy": 0.5,
      "f1_macro": 0.222
    }
  },
  "environment": {
    "python_version": "3.11.9",
    "pytorch_version": "2.5.1+cu121",
    "cuda_available": true,
    "gpu_name": "NVIDIA T500",
    "gpu_memory_gb": 4.0,
    "cuda_version": "12.1",
    "transformers_version": "5.1.0",
    "datasets_version": "4.5.0",
    "disk_free_gb": 301,
    "base_model_accessible": true
  },
  "training_config": {
    "DAPT": {
      "base_model": "KB/bert-base-swedish-cased",
      "corpus_size": "1.42M words",
      "documents": 96,
      "epochs": 3,
      "batch_size": "16 (may need reduction for 4GB VRAM)",
      "learning_rate": "2e-5",
      "mlm_probability": 0.15,
      "fp16": true,
      "note": "With 4GB VRAM, consider batch_size=4 with gradient_accumulation_steps=4"
    },
    "Fine_Tuning": {
      "base_model": "DAPT output model",
      "train_samples": "30 strong + 12 weak",
      "val_samples": "7 strong only",
      "test_samples": "7 strong only",
      "epochs": 5,
      "batch_size": 8,
      "learning_rate": "2e-5",
      "weighted_loss": true,
      "strong_weight": 1.0,
      "weak_weight": "0.2-0.4",
      "fp16": true
    }
  },
  "targets": {
    "accuracy_minimum": 0.7,
    "accuracy_target": 0.73,
    "improvement_significant": 0.05,
    "key_improvement": "Better HIGH_RISK and LOW_RISK recall via DAPT + class balancing"
  }
}